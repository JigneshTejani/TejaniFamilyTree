{"version":3,"sources":["tree/index.js","tree/useCentered.js","helper/function.js","App.js","index.js"],"names":["OrgChartTree","dimensions","translate","containerRef","defaultTranslate","x","y","setTranslate","useState","setDimensions","useCallback","containerElem","width","height","getBoundingClientRect","useCenteredTree","familyTree","stratify","id","d","name","parentId","father","getConvertedTreeData","data","name_guj","dataKey","newTree","push","React","Fragment","style","ref","Tree","orientation","allowForeignObjects","scaleExtent","max","min","separation","siblings","nonSiblings","nodeSize","renderCustomNodeElement","treeData","RenderCard","initialDepth","enableLegacyTransitions","memo","_ref","nodeDatum","toggleNode","foreignObjectProps","open","setOpen","split","spouse","spouse_guj","number","className","onClick","src","onError","e","target","process","length","position","top","left","backgroundColor","type","onPaste","clipboardData","items","undefined","i","indexOf","preventDefault","files","getAsFile","FormData","append","axios","post","then","res","console","log","autoFocus","photo","href","spouse_photo","App","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.bba975ed.chunk.js","sourcesContent":["import React, {useState} from 'react';\nimport Tree from 'react-d3-tree';\nimport {useCenteredTree} from \"./useCentered\";\nimport {stratify} from 'd3-hierarchy';\nimport {getConvertedTreeData} from \"../helper/function\";\nimport axios from 'axios';\n\nexport default function OrgChartTree() {\n    const [dimensions, translate, containerRef] = useCenteredTree();\n    const familyTree = stratify().id((d) => d.name).parentId((d) => d.father)(getConvertedTreeData());\n\n    return (<React.Fragment>\n        <div id=\"treeWrapper\" style={{width: '100vw', height: '100vh'}} ref={containerRef}>\n            <Tree\n                // pathFunc=\"step\"\n                orientation=\"vertical\"\n                allowForeignObjects={true}\n                translate={translate}\n                dimensions={dimensions} //control the size of the tree layout\n                scaleExtent={{max: 10, min: 0.3}}\n                separation={{siblings: 1, nonSiblings: 1.60}}\n                nodeSize={{x: 160, y: 300}}\n                renderCustomNodeElement={(treeData) => <RenderCard data={{...treeData}}/>}\n                initialDepth={1} // for visible first one row in tree\n                data={familyTree}\n                enableLegacyTransitions\n            />\n        </div>\n    </React.Fragment>);\n}\n\nconst RenderCard = React.memo(({data: {nodeDatum, toggleNode, foreignObjectProps = {}}}) => {\n    const [open, setOpen] = useState(\"\")\n    const data = nodeDatum?.data\n\n    const name = data?.name_guj?.split(\" \")?.[0]\n    const spouse = data?.spouse_guj?.split(\" \")?.[0]\n    const number = data?.number\n    const onPaste = (e) => {\n        if (e.clipboardData === false) return false;\n        const items = e.clipboardData.items;\n        if (items === undefined) return false;\n\n        for (let i = 0; i < items.length; i++) {\n            // Skip content if not image\n            if (items[i].type.indexOf('image') === -1) continue;\n            if (e && e.preventDefault) e.preventDefault();\n            // Retrieve image on clipboard as blob\n            const files = items[i].getAsFile();\n            const data = new FormData()\n            data.append('file', files)\n            data.append('name', open)\n\n            axios.post('http://localhost:8080/upload', data).then(res => {\n                console.log({res})\n                setOpen('')\n            })\n        }\n        return false;\n    }\n\n    return (<React.Fragment>\n        <foreignObject\n            {...foreignObjectProps}\n            width=\"160\"\n            height=\"300\"\n            x=\"-80\"\n            y=\"-100\"\n        >\n            {data?.name && <div className=\"card-container\" onClick={toggleNode}>\n                {data.name === \"tejaniparivar tejaniparivar\" ? <div className=\"root-card\">\n                        <p>{data?.name_guj}</p>\n                    </div>\n                    :\n                    <div className=\"card\">\n                        <div className=\"user\">\n                            <div className='user-avatar'>\n                                <img\n                                    src={`./images/${data?.name}.png` ?? \"./male.png\"}\n\n                                    onError={e => e.target.src = \"./male.png\"}\n                                />\n                                {process.env.NODE_ENV === 'development' && <button onClick={e => {\n                                    e?.preventDefault()\n                                    e?.stopPropagation()\n                                    setOpen(data?.name)\n                                }}>name\n                                </button>}\n                                <p>{name}</p>\n                            </div>\n\n                            {spouse && <div className='user-avatar'>\n                                <img\n                                    src={`./images/${data?.spouse}.png` ?? \"./female.png\"}\n                                    onError={e => e.target.src = \"./female.png\"}\n                                />\n                                {process.env.NODE_ENV === 'development' && <button onClick={e => {\n                                    e?.preventDefault()\n                                    e?.stopPropagation()\n                                    setOpen(data?.spouse)\n                                }}>spouse\n                                </button>}\n                                <p>{spouse}</p>\n                            </div>}\n                        </div>\n                        {number && <div className=\"contact\"><p>{number}</p></div>}\n                    </div>\n                }\n                {!!open?.length && <div style={{position: 'absolute', top: 0, left: '36px', height: '120px', width: '160px', backgroundColor: \"white\"}}>\n                    <button onClick={() => setOpen(\"\")}>Close</button>\n                    <input type=\"text\" onPaste={onPaste} autoFocus={true}/>\n                    {data?.photo && <a href={data?.photo} target=\"_blank\">name</a>} <br/>\n                    {data?.spouse_photo && <a href={data?.spouse_photo} target=\"_blank\">spouse</a>}\n                    <p>{open}</p>\n                </div>}\n            </div>}\n        </foreignObject>\n    </React.Fragment>);\n});\n","import { useCallback, useState } from \"react\";\n\nexport const useCenteredTree = (defaultTranslate = { x: 0, y: 0 }) => {\n    const [translate, setTranslate] = useState(defaultTranslate);\n    const [dimensions, setDimensions] = useState();\n    const containerRef = useCallback((containerElem) => {\n        if (containerElem !== null) {\n            const { width, height } = containerElem.getBoundingClientRect();\n            setDimensions({ width, height });\n            setTranslate({ x: width / 2, y: height / 2 });\n        }\n    }, []);\n    return [dimensions, translate, containerRef];\n};","import newTree from './../tree/newTree.json';\n\nexport const getJsonFromUniqueArray = () => {\n    const a = [{\"1\":\"Diyal\"},{\"2\":\"Devshi\",\"8\":\"Kadviebn\"},{\"3\":\"Shamji\",\"8\":\"Ratanben\"},{\"4\":\"Dungarshi\",\"8\":\"Shardaben\"},{\"5\":\"Bharat\"},{\"6\":\"Parth\"},{\"6\":\"Hari\"},{\"5\":\"Dharmesh\",\"8\":\"Margiben\"},{\"4\":\"Ganesh\",\"8\":\"Kailashben\"},{\"5\":\"Vasant\",\"8\":\"Dakshaben\"},{\"4\":\"Dinesh\",\"8\":\"Hiraben\"},{\"5\":\"Tilak\"},{\"4\":\"Mukesh\",\"8\":\"Parulben\"},{\"5\":\"Tejas\"},{\"3\":\"Parshotam\",\"8\":\"Maniben\"},{\"4\":\"Savji\",\"8\":\"Prabhaben\"},{\"5\":\"Hiren\",\"8\":\"Bhumiben\"},{\"6\":\"Vrunda\"},{\"6\":\"Dhyan\"},{\"5\":\"Kiran\",\"8\":\"Kinjalben\"},{\"6\":\"Dhyey\"},{\"6\":\"Mahir\"},{\"4\":\"Premji\",\"8\":\"Vasantben\"},{\"5\":\"Rajesh\",\"8\":\"Sangitaben\"},{\"6\":\"Vraj\"},{\"6\":\"Dhruv\"},{\"5\":\"Alpesh\",\"8\":\"Shilpaben\"},{\"6\":\"Jal\"},{\"2\":\"Hari\",\"8\":\"Dholiben\"},{\"3\":\"Megha\"},{\"4\":\"Jivraj\",\"8\":\"Nanduben\"},{\"5\":\"Babu\",\"8\":\"Vimlaben\"},{\"6\":\"Jayesh\",\"8\":\"Alpaben\"},{\"7\":\"Janvi\"},{\"7\":\"Jyot\"},{\"6\":\"Gautam\",\"8\":\"Dayaben\"},{\"7\":\"Jiyansh\"},{\"5\":\"Dhanji\",\"8\":\"Rekhaben\"},{\"6\":\"Shyam\"},{\"5\":\"Ishvar\",\"8\":\"Varshaben\"},{\"6\":\"Kishan\"},{\"6\":\"Mit\"},{\"3\":\"Madha\",\"8\":\"Javalben\"},{\"4\":\"Ranchhod\",\"8\":\"Champaben\"},{\"5\":\"Daya\",\"8\":\"Varshaben\"},{\"6\":\"Jay\"},{\"5\":\"Satish\",\"8\":\"Sonalben\"},{\"6\":\"Het\"},{\"6\":\"Ved\"},{\"2\":\"Dipa\"}]\n    const data = []\n    for (let i = 0; i < a?.length; i++) {\n        const getKey = (obj) => Object.keys(obj)?.[0] ? Number(Object.keys(obj)?.[0]) : -1\n        const child = a[i] ?? null\n        let cKey = getKey(child);\n\n        const findFather = (fatherIndex) => {\n            if (i < 1) return 'tejaniparivar'\n            if (cKey <= 1) return 'tejaniparivar'\n            if (fatherIndex === 2 && cKey <= 2) return 'tejaniparivar'\n            let pIndex = i - (fatherIndex - 1)\n            if (pIndex > -1) {\n                for (let j = i; j >= 0; j--) {\n                    const pFind = getKey(a[j])\n                    if (pFind === (cKey - fatherIndex)) {\n                        pIndex = j\n                        break\n                    }\n                }\n                return a[pIndex]?.[getKey(a[pIndex])] ?? ''\n            }\n        }\n\n        data.push(`${child[cKey]} ${findFather(1)}, ${findFather(1)} ${findFather(2)}`)\n    }\n    return data\n}\n\nexport const getConvertedTreeData = () => {\n    const data = [{name: \"tejaniparivar tejaniparivar\", name_guj: \"તેજાણી પરિવાર\"}]\n    for (const dataKey in newTree) {\n        data.push(...newTree[dataKey])\n    }\n    return data\n}\n","import React from \"react\";\nimport './App.css';\nimport OrgChartTree from \"./tree\";\n// import {getJsonFromUniqueArray} from \"./helper/function\";\n\n// console.log('Converted Array ====>>', getJsonFromUniqueArray())\nfunction App() {\n\n    return (\n        <div className=\"App\">\n\n            <OrgChartTree/>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}